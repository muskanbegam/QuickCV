<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <form class="bg-white shadow-sm rounded-lg p-8 w-full max-w-4xl space-y-10 text-gray-900">

        <h1 class="text-2xl font-semibold text-center">Resume Builder</h1>

        <!-- Personal Info -->
        <section class="space-y-6">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Personal Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <input type="text" placeholder="Full Name" class="border-b focus:border-black outline-none p-2 w-full">
                <input type="email" placeholder="Email Address"
                    class="border-b focus:border-black outline-none p-2 w-full">
                <input type="tel" placeholder="Phone Number"
                    class="border-b focus:border-black outline-none p-2 w-full">
            </div>

            <!-- Social Links -->
            <div id="social-links" class="space-y-3">
                <label class="block font-medium">Social Links (max 5)</label>
                <div class="flex gap-2 items-center">
                    <input type="url" placeholder="https://example.com"
                        class="border-b focus:border-black outline-none p-2 w-full social-link">
                    <button type="button" id="add-social"
                        class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add</button>
                </div>
            </div>
        </section>

        <!-- Summary -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Summary</h2>
            <textarea placeholder="Write a brief summary about yourself..."
                class="border p-3 rounded w-full h-32 resize-none focus:border-black outline-none"></textarea>
        </section>

        <!-- Education -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Education</h2>
            <div id="education-list" class="space-y-4">
                <div class="education-item p-4 border rounded-md space-y-2 bg-gray-50">
                    <input type="text" placeholder="Degree" class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="text" placeholder="University / College"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="text" placeholder="Start Year"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="text" placeholder="End Year"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <button type="button" class="remove-education text-sm text-red-600 hover:underline">Delete</button>
                </div>
            </div>
            <button type="button" id="add-education" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Education</button>
        </section>

        <!-- Work Experience -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Work Experience</h2>
            <div id="experience-list" class="space-y-4">
                <div class="experience-item p-4 border rounded-md space-y-2 bg-gray-50">
                    <input type="text" placeholder="Job Title"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="text" placeholder="Company Name"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="text" placeholder="Duration (e.g., 2021-2023)"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <textarea placeholder="Responsibilities / Achievements"
                        class="border-b focus:border-black outline-none p-2 w-full"></textarea>
                    <button type="button" class="remove-experience text-sm text-red-600 hover:underline">Delete</button>
                </div>
            </div>
            <button type="button" id="add-experience" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Experience</button>
        </section>

        <!-- Skills -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Skills</h2>
            <div id="skills-list" class="space-y-4">
                <div
                    class="skill-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:flex-row md:items-center md:gap-4">
                    <input type="text" placeholder="Category (e.g., Programming Languages)"
                        class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
                    <input type="text" placeholder="Skills (e.g., Python, Java, JS)"
                        class="border-b focus:border-black outline-none p-2 w-full md:w-2/3">
                    <button type="button"
                        class="remove-skill text-sm text-red-600 hover:underline mt-2 md:mt-0">Delete</button>
                </div>
            </div>
            <button type="button" id="add-skill" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Skill</button>
        </section>

        <!-- Certifications -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Certifications</h2>
            <div id="certifications-list" class="space-y-4">
                <div
                    class="certification-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:flex-row md:items-center md:gap-4">
                    <input type="text" placeholder="Certification Name"
                        class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
                    <input type="text" placeholder="Issuer"
                        class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
                    <input type="text" placeholder="Year"
                        class="border-b focus:border-black outline-none p-2 w-full md:w-1/6">
                    <button type="button"
                        class="remove-certification text-sm text-red-600 hover:underline mt-2 md:mt-0">Delete</button>
                </div>
            </div>
            <button type="button" id="add-certification" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Certification</button>
        </section>

        <!-- Projects -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Projects</h2>
            <div id="projects-list" class="space-y-4">
                <div class="project-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:gap-4">
                    <input type="text" placeholder="Project Name"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <input type="url" placeholder="Project Link"
                        class="border-b focus:border-black outline-none p-2 w-full">
                    <textarea placeholder="Project Description"
                        class="border-b focus:border-black outline-none p-2 w-full resize-none"></textarea>
                    <button type="button"
                        class="remove-project text-sm text-red-600 hover:underline mt-2">Delete</button>
                </div>
            </div>
            <button type="button" id="add-project" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Project</button>
        </section>

        <!-- Custom Sections -->
        <section class="space-y-4">
            <h2 contenteditable="true" class="text-lg font-medium border-b pb-2 cursor-text">Custom Sections</h2>
            <div id="custom-sections-list" class="space-y-4"></div>
            <button type="button" id="add-custom-section" class="text-sm border px-3 py-1 rounded hover:bg-gray-100">Add
                Custom Section</button>
        </section>

        <!-- Submit -->
        <button type="submit"
            class="w-full border border-black text-black p-3 rounded font-medium hover:bg-gray-100 transition">Generate
            Resume</button>
    </form>

    <script>
        // Social Links
        const maxLinks = 5;
        const addSocialBtn = document.getElementById('add-social');
        const socialContainer = document.getElementById('social-links');

        addSocialBtn.addEventListener('click', () => {
            const currentLinks = socialContainer.querySelectorAll('.social-link').length;
            if (currentLinks >= maxLinks) return alert('Maximum 5 links allowed');
            const div = document.createElement('div');
            div.classList.add('flex', 'gap-2', 'items-center', 'mt-2');
            div.innerHTML = `
            <input type="url" placeholder="https://example.com" class="border-b focus:border-black outline-none p-2 w-full social-link">
            <button type="button" class="remove-social text-sm text-red-600 hover:underline">Delete</button>
        `;
            socialContainer.appendChild(div);
        });

        socialContainer.addEventListener('click', e => {
            if (e.target.classList.contains('remove-social')) e.target.parentElement.remove();
        });

        // Function to add dynamic section items
        function addDynamicItem(listId, html) {
            const list = document.getElementById(listId);
            const div = document.createElement('div');
            div.innerHTML = html;
            list.appendChild(div);
        }

        // Education
        const addEducationBtn = document.getElementById('add-education');
        addEducationBtn.addEventListener('click', () => addDynamicItem('education-list', `
        <div class="education-item p-4 border rounded-md space-y-2 bg-gray-50">
            <input type="text" placeholder="Degree" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="text" placeholder="University / College" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="text" placeholder="Start Year" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="text" placeholder="End Year" class="border-b focus:border-black outline-none p-2 w-full">
            <button type="button" class="remove-education text-sm text-red-600 hover:underline">Delete</button>
        </div>
    `));

        document.body.addEventListener('click', e => {
            if (e.target.classList.contains('remove-education')) e.target.parentElement.remove();
            if (e.target.classList.contains('remove-experience')) e.target.parentElement.remove();
            if (e.target.classList.contains('remove-skill')) e.target.parentElement.remove();
            if (e.target.classList.contains('remove-certification')) e.target.parentElement.remove();
            if (e.target.classList.contains('remove-project')) e.target.parentElement.remove();
            if (e.target.classList.contains('remove-custom')) e.target.parentElement.remove();
        });

        // Experience
        const addExperienceBtn = document.getElementById('add-experience');
        addExperienceBtn.addEventListener('click', () => addDynamicItem('experience-list', `
        <div class="experience-item p-4 border rounded-md space-y-2 bg-gray-50">
            <input type="text" placeholder="Job Title" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="text" placeholder="Company Name" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="text" placeholder="Duration (e.g., 2021-2023)" class="border-b focus:border-black outline-none p-2 w-full">
            <textarea placeholder="Responsibilities / Achievements" class="border-b focus:border-black outline-none p-2 w-full"></textarea>
            <button type="button" class="remove-experience text-sm text-red-600 hover:underline">Delete</button>
        </div>
    `));

        // Skills
        const addSkillBtn = document.getElementById('add-skill');
        addSkillBtn.addEventListener('click', () => addDynamicItem('skills-list', `
        <div class="skill-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:flex-row md:items-center md:gap-4">
            <input type="text" placeholder="Category (e.g., Programming Languages)" class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
            <input type="text" placeholder="Skills (e.g., Python, Java, JS)" class="border-b focus:border-black outline-none p-2 w-full md:w-2/3">
            <button type="button" class="remove-skill text-sm text-red-600 hover:underline mt-2 md:mt-0">Delete</button>
        </div>
    `));

        // Certifications
        const addCertBtn = document.getElementById('add-certification');
        addCertBtn.addEventListener('click', () => addDynamicItem('certifications-list', `
        <div class="certification-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:flex-row md:items-center md:gap-4">
            <input type="text" placeholder="Certification Name" class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
            <input type="text" placeholder="Issuer" class="border-b focus:border-black outline-none p-2 w-full md:w-1/3">
            <input type="text" placeholder="Year" class="border-b focus:border-black outline-none p-2 w-full md:w-1/6">
            <button type="button" class="remove-certification text-sm text-red-600 hover:underline mt-2 md:mt-0">Delete</button>
        </div>
    `));

        // Projects
        const addProjectBtn = document.getElementById('add-project');
        addProjectBtn.addEventListener('click', () => addDynamicItem('projects-list', `
        <div class="project-item p-4 border rounded-md space-y-2 bg-gray-50 flex flex-col md:gap-4">
            <input type="text" placeholder="Project Name" class="border-b focus:border-black outline-none p-2 w-full">
            <input type="url" placeholder="Project Link" class="border-b focus:border-black outline-none p-2 w-full">
            <textarea placeholder="Project Description" class="border-b focus:border-black outline-none p-2 w-full resize-none"></textarea>
            <button type="button" class="remove-project text-sm text-red-600 hover:underline mt-2">Delete</button>
        </div>
    `));

        // Custom Section
        const addCustomBtn = document.getElementById('add-custom-section');
        addCustomBtn.addEventListener('click', () => {
            const sectionId = 'custom-sections-list';
            addDynamicItem(sectionId, `
            <div class="custom-item p-4 border rounded-md space-y-2 bg-gray-50">
                <input type="text" placeholder="Custom Heading" class="border-b focus:border-black outline-none p-2 w-full font-medium">
                <textarea placeholder="Custom Content..." class="border-b focus:border-black outline-none p-2 w-full resize-none"></textarea>
                <button type="button" class="remove-custom text-sm text-red-600 hover:underline">Delete</button>
            </div>
        `);
        });
    </script>
    <script>
        document.querySelector('form').addEventListener('submit', function (e) {
            e.preventDefault(); // prevent default submit

            function getValues(container, selectors) {
                return Array.from(container.querySelectorAll(selectors))
                    .map(input => input.value.trim())
                    .filter(v => v);
            }

            const data = {
                personal: {
                    fullName: document.querySelector('input[placeholder="Full Name"]').value.trim(),
                    email: document.querySelector('input[placeholder="Email Address"]').value.trim(),
                    phone: document.querySelector('input[placeholder="Phone Number"]').value.trim(),
                    socialLinks: getValues(document.getElementById('social-links'), '.social-link')
                },
                summary: document.querySelector('textarea[placeholder^="Write a brief summary"]').value.trim(),
                education: Array.from(document.querySelectorAll('.education-item')).map(e => ({
                    degree: e.querySelector('input[placeholder="Degree"]').value.trim(),
                    college: e.querySelector('input[placeholder="University / College"]').value.trim(),
                    start: e.querySelector('input[placeholder="Start Year"]').value.trim(),
                    end: e.querySelector('input[placeholder="End Year"]').value.trim()
                })),
                experience: Array.from(document.querySelectorAll('.experience-item')).map(e => ({
                    title: e.querySelector('input[placeholder="Job Title"]').value.trim(),
                    company: e.querySelector('input[placeholder="Company Name"]').value.trim(),
                    duration: e.querySelector('input[placeholder^="Duration"]').value.trim(),
                    description: e.querySelector('textarea').value.trim()
                })),
                skills: Array.from(document.querySelectorAll('.skill-item')).map(e => ({
                    category: e.querySelector('input[placeholder^="Category"]').value.trim(),
                    skills: e.querySelector('input[placeholder^="Skills"]').value.trim()
                })),
                certifications: Array.from(document.querySelectorAll('.certification-item')).map(e => ({
                    name: e.querySelector('input[placeholder="Certification Name"]').value.trim(),
                    issuer: e.querySelector('input[placeholder="Issuer"]').value.trim(),
                    year: e.querySelector('input[placeholder="Year"]').value.trim()
                })),
                projects: Array.from(document.querySelectorAll('.project-item')).map(e => ({
                    name: e.querySelector('input[placeholder="Project Name"]').value.trim(),
                    link: e.querySelector('input[placeholder="Project Link"]').value.trim(),
                    description: e.querySelector('textarea').value.trim()
                })),
                customSections: Array.from(document.querySelectorAll('.custom-item')).map(e => ({
                    heading: e.querySelector('input[placeholder="Custom Heading"]').value.trim(),
                    content: e.querySelector('textarea').value.trim()
                }))
            };

            // Store data in sessionStorage
            sessionStorage.setItem('resumeData', JSON.stringify(data));

            // Redirect to preview page
            window.location.href = 'preview.html';
        });
    </script>

</body>

</html>